<div class="app-container">
  <!-- Header -->
  <header class="header">
    <h1 class="title">ğŸ’Œ Love Hunt ğŸ’Œ</h1>
    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="progress"></div>
    </div>
    <p class="step-counter">Stop {{currentStep + 1}} of {{stops.length}}</p>
  </header>

  <!-- Main Content -->
  <main class="content">
    <div class="card">
      <!-- Emoji Icon -->
      <div class="emoji-circle">{{currentStop.emoji}}</div>

      <!-- Location -->
      <h2 class="location">{{currentStop.location}}</h2>

      <!-- Clue Section -->
      <div *ngIf="!showClue" class="clue-hidden">
        <button class="btn-reveal" (click)="revealClue()">
          ğŸ”“ Reveal Clue
        </button>
      </div>

      <div *ngIf="showClue" class="clue-section">
        <div class="clue-box">
          <p class="clue-text">{{currentStop.clue}}</p>
        </div>

        <!-- Question Section -->
        <div class="question-section">
          <h3 class="question">{{currentStop.question}}</h3>

          <!-- Yes/No Buttons (All with runaway No button) -->
          <div *ngIf="currentStop.type === 'yesno' || currentStop.type === 'valentine'" class="answer-container">
            <button class="btn-yes-main" (click)="answerYes()">
              ğŸ’– Yes! ğŸ’–
            </button>

            <!-- Runaway No Button -->
            <button
              class="btn-no-runaway"
              [style.position]="'absolute'"
              [style.top]="noButtonPosition.top"
              [style.left]="noButtonPosition.left"
              (mouseenter)="onNoButtonHover()"
              (touchstart)="onNoButtonHover()"
              (click)="onNoButtonHover()"
            >
              ğŸ˜¢ No
            </button>

            <p class="attempt-hint" *ngIf="noButtonAttempts > 3">
              Attempts: {{noButtonAttempts}} ğŸ˜
            </p>
          </div>

          <!-- Valentine Question (Final) -->
          <div *ngIf="currentStop.type === 'valentine'" class="valentine-special">
            <p class="valentine-note">âœ¨ This is the moment! âœ¨</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Milestone Alert Popup (Similar to Celebration) -->
  <div *ngIf="showMilestoneAlert" class="milestone-popup">
    <div class="milestone-card">
      <h1 class="milestone-title">{{milestoneTitle}}</h1>
      <p class="milestone-message">{{milestoneMessage}}</p>
    </div>
  </div>

  <!-- Celebration -->
  <div *ngIf="celebrating" class="celebration">
    <div class="celebration-card">
      <h1 class="celebration-title">ğŸ‰ She said YES! ğŸ‰</h1>
      <p class="celebration-message">
        Thank you for being my Valentine! â¤ï¸<br>
        I love you more than words can say.
      </p>
     <!-- <button class="btn-restart" (click)="restart()">
        ğŸ”„ Play Again
      </button>-->
    </div>
  </div>
</div>
